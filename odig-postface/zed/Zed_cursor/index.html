<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Zed_cursor (zed.Zed_cursor)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">zed</a> &#x00BB; Zed_cursor</nav><header class="odoc-preamble"><h1>Module <code><span>Zed_cursor</span></code></h1><p>Cursors</p></header><div class="odoc-content"><p>A cursor is a pointer in an edition buffer. When some text is inserted or removed, all cursors after the modification are automatically moved accordingly.</p><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>Type of a cursor.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-changes" class="anchored"><a href="#type-changes" class="anchor"></a><code><span><span class="keyword">type</span> changes</span><span> = </span><span>{</span></code><table><tr id="type-changes.position" class="anchored"><td class="def record field"><a href="#type-changes.position" class="anchor"></a><code><span>position : int;</span></code></td></tr><tr id="type-changes.added" class="anchored"><td class="def record field"><a href="#type-changes.added" class="anchor"></a><code><span>added : int;</span></code></td></tr><tr id="type-changes.removed" class="anchored"><td class="def record field"><a href="#type-changes.removed" class="anchor"></a><code><span>removed : int;</span></code></td></tr><tr id="type-changes.added_width" class="anchored"><td class="def record field"><a href="#type-changes.added_width" class="anchor"></a><code><span>added_width : int;</span></code></td></tr><tr id="type-changes.removed_width" class="anchored"><td class="def record field"><a href="#type-changes.removed_width" class="anchor"></a><code><span>removed_width : int;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Out_of_bounds" class="anchored"><a href="#exception-Out_of_bounds" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Out_of_bounds</span></span></code></div><div class="spec-doc"><p>Exception raised when trying to move a cursor outside the bounds of the text it points to.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-changes">changes</a> <a href="../../react/React/index.html#type-event">React.event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <a href="../Zed_lines/index.html#type-t">Zed_lines.t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>create length changes get_lines position wanted_column</code> creates a new cursor pointing to position <code>position</code>.</p><p><code>length</code> is the current length of the text the cursor points to. It raises <a href="#exception-Out_of_bounds"><code>Out_of_bounds</code></a> if <code>position</code> is greater than <code>length</code>.</p><p><code>changes</code> is an event which occurs with values of the form <code>(start, added, removed)</code> when the text changes, with the same semantic as <a href="../Zed_edit/index.html#val-changes"><code>Zed_edit.changes</code></a>.</p><p><code>get_lines</code> is used to retreive the current set of line positions of the text. It is used to compute the line and column of the cursor.</p><p><code>wanted_column</code> is the column on which the cursor want to be, if there is enough room on the line.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-copy" class="anchored"><a href="#val-copy" class="anchor"></a><code><span><span class="keyword">val</span> copy : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>copy cursor</code> creates a copy of the given cursor. The new cursor initially points to the same location as <code>cursor</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-position" class="anchored"><a href="#val-position" class="anchor"></a><code><span><span class="keyword">val</span> position : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <a href="../../react/React/index.html#type-signal">React.signal</a></span></span></code></div><div class="spec-doc"><p><code>position cursor</code> returns the signal holding the current position of the given cursor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_position" class="anchored"><a href="#val-get_position" class="anchor"></a><code><span><span class="keyword">val</span> get_position : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>get_position cursor</code> returns the current position of <code>cursor</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-line" class="anchored"><a href="#val-line" class="anchor"></a><code><span><span class="keyword">val</span> line : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <a href="../../react/React/index.html#type-signal">React.signal</a></span></span></code></div><div class="spec-doc"><p><code>line cursor</code> returns the signal holding the current line on which the cursor is.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_line" class="anchored"><a href="#val-get_line" class="anchor"></a><code><span><span class="keyword">val</span> get_line : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>get_line cursor</code> returns the current line of the cursor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-column" class="anchored"><a href="#val-column" class="anchor"></a><code><span><span class="keyword">val</span> column : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <a href="../../react/React/index.html#type-signal">React.signal</a></span></span></code></div><div class="spec-doc"><p><code>column cursor</code> returns the signal holding the current column of the cursor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-column_display" class="anchored"><a href="#val-column_display" class="anchor"></a><code><span><span class="keyword">val</span> column_display : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <a href="../../react/React/index.html#type-signal">React.signal</a></span></span></code></div><div class="spec-doc"><p><code>column_display cursor</code> returns the signal holding the current display column of the cursor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_column" class="anchored"><a href="#val-get_column" class="anchor"></a><code><span><span class="keyword">val</span> get_column : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>get_column cursor</code> returns the current column of the cursor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_column_display" class="anchored"><a href="#val-get_column_display" class="anchor"></a><code><span><span class="keyword">val</span> get_column_display : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>get_column_display cursor</code> returns the current display column of the cursor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-coordinates" class="anchored"><a href="#val-coordinates" class="anchor"></a><code><span><span class="keyword">val</span> coordinates : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(int * int)</span> <a href="../../react/React/index.html#type-signal">React.signal</a></span></span></code></div><div class="spec-doc"><p><code>coordinates cursor</code> returns the signal holding the current line &amp; column of the cursor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-coordinates_display" class="anchored"><a href="#val-coordinates_display" class="anchor"></a><code><span><span class="keyword">val</span> coordinates_display : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(int * int)</span> <a href="../../react/React/index.html#type-signal">React.signal</a></span></span></code></div><div class="spec-doc"><p><code>coordinates cursor</code> returns the signal holding the current line &amp; display column of the cursor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_coordinates" class="anchored"><a href="#val-get_coordinates" class="anchor"></a><code><span><span class="keyword">val</span> get_coordinates : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int * int</span></code></div><div class="spec-doc"><p><code>get_coordinates cursor</code> returns the current line &amp; column of the cursor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_coordinates_display" class="anchored"><a href="#val-get_coordinates_display" class="anchor"></a><code><span><span class="keyword">val</span> get_coordinates_display : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int * int</span></code></div><div class="spec-doc"><p><code>get_coordinates_display cursor</code> returns the current line &amp; display column of the cursor.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-wanted_column" class="anchored"><a href="#val-wanted_column" class="anchor"></a><code><span><span class="keyword">val</span> wanted_column : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <a href="../../react/React/index.html#type-signal">React.signal</a></span></span></code></div><div class="spec-doc"><p><code>wanted_column cursor</code> returns the signal holding the column on which the cursor wants to be.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_wanted_column" class="anchored"><a href="#val-get_wanted_column" class="anchor"></a><code><span><span class="keyword">val</span> get_wanted_column : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>get_wanted_column cursor</code> returns the column on which the cursor wants to be.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_wanted_column" class="anchored"><a href="#val-set_wanted_column" class="anchor"></a><code><span><span class="keyword">val</span> set_wanted_column : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_wanted_column cursor</code> sets the column on which the cursor want to be.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-goto" class="anchored"><a href="#val-goto" class="anchor"></a><code><span><span class="keyword">val</span> goto : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>?set_wanted_column:bool <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>goto cursor position</code> moves the given cursor to the given position. It raises <a href="#exception-Out_of_bounds"><code>Out_of_bounds</code></a> if <code>position</code> is outside the bounds of the text. If <code>set_wanted_column</code> is <code>true</code> (the default), then the wanted column will be set to the column of the cursor at given position.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-move" class="anchored"><a href="#val-move" class="anchor"></a><code><span><span class="keyword">val</span> move : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>?set_wanted_column:bool <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>move cursor delta</code> moves the given cursor by the given number of characters. It raises <a href="#exception-Out_of_bounds"><code>Out_of_bounds</code></a> if the result is outside the bounds of the text.</p></div></div></div></body></html>