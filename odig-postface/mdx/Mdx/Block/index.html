<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Block (mdx.Mdx.Block)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">mdx</a> &#x00BB; <a href="../index.html">Mdx</a> &#x00BB; Block</nav><header class="odoc-preamble"><h1>Module <code><span>Mdx.Block</span></code></h1><p>Code blocks headers.</p></header><nav class="odoc-toc"><ul><li><a href="#printers">Printers</a></li><li><a href="#accessors">Accessors</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-Header" class="anchored"><a href="#module-Header" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Header/index.html">Header</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><p>Code blocks.</p><div class="odoc-spec"><div class="spec type" id="type-cram_value" class="anchored"><a href="#type-cram_value" class="anchor"></a><code><span><span class="keyword">type</span> cram_value</span><span> = </span><span>{</span></code><table><tr id="type-cram_value.language" class="anchored"><td class="def record field"><a href="#type-cram_value.language" class="anchor"></a><code><span>language : <span>[ `Bash <span>| `Sh</span> ]</span>;</span></code></td></tr><tr id="type-cram_value.non_det" class="anchored"><td class="def record field"><a href="#type-cram_value.non_det" class="anchor"></a><code><span>non_det : <span><a href="../Label/index.html#type-non_det">Label.non_det</a> option</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-ocaml_value" class="anchored"><a href="#type-ocaml_value" class="anchor"></a><code><span><span class="keyword">type</span> ocaml_value</span><span> = </span><span>{</span></code><table><tr id="type-ocaml_value.env" class="anchored"><td class="def record field"><a href="#type-ocaml_value.env" class="anchor"></a><code><span>env : <a href="../Ocaml_env/index.html#type-t">Ocaml_env.t</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p><code>env</code> is the name given to the environment where tests are run.</p><span class="comment-delim">*)</span></td></tr><tr id="type-ocaml_value.non_det" class="anchored"><td class="def record field"><a href="#type-ocaml_value.non_det" class="anchor"></a><code><span>non_det : <span><a href="../Label/index.html#type-non_det">Label.non_det</a> option</span>;</span></code></td></tr><tr id="type-ocaml_value.errors" class="anchored"><td class="def record field"><a href="#type-ocaml_value.errors" class="anchor"></a><code><span>errors : <span><a href="../Output/index.html#type-t">Output.t</a> list</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-toplevel_value" class="anchored"><a href="#type-toplevel_value" class="anchor"></a><code><span><span class="keyword">type</span> toplevel_value</span><span> = </span><span>{</span></code><table><tr id="type-toplevel_value.env" class="anchored"><td class="def record field"><a href="#type-toplevel_value.env" class="anchor"></a><code><span>env : <a href="../Ocaml_env/index.html#type-t">Ocaml_env.t</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p><code>env</code> is the name given to the environment where tests are run.</p><span class="comment-delim">*)</span></td></tr><tr id="type-toplevel_value.non_det" class="anchored"><td class="def record field"><a href="#type-toplevel_value.non_det" class="anchor"></a><code><span>non_det : <span><a href="../Label/index.html#type-non_det">Label.non_det</a> option</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-include_ocaml_file" class="anchored"><a href="#type-include_ocaml_file" class="anchor"></a><code><span><span class="keyword">type</span> include_ocaml_file</span><span> = </span><span>{</span></code><table><tr id="type-include_ocaml_file.part_included" class="anchored"><td class="def record field"><a href="#type-include_ocaml_file.part_included" class="anchor"></a><code><span>part_included : <span>string option</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p><code>part_included</code> is the part of the file to synchronize with. If lines is not specified synchronize the whole file.</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-include_other_file" class="anchored"><a href="#type-include_other_file" class="anchor"></a><code><span><span class="keyword">type</span> include_other_file</span><span> = </span><span>{</span></code><table><tr id="type-include_other_file.header" class="anchored"><td class="def record field"><a href="#type-include_other_file.header" class="anchor"></a><code><span>header : <span><a href="Header/index.html#type-t">Header.t</a> option</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-include_file_kind" class="anchored"><a href="#type-include_file_kind" class="anchor"></a><code><span><span class="keyword">type</span> include_file_kind</span><span> = </span></code><table><tr id="type-include_file_kind.Fk_ocaml" class="anchored"><td class="def variant constructor"><a href="#type-include_file_kind.Fk_ocaml" class="anchor"></a><code><span>| </span><span><span class="constructor">Fk_ocaml</span> <span class="keyword">of</span> <a href="#type-include_ocaml_file">include_ocaml_file</a></span></code></td></tr><tr id="type-include_file_kind.Fk_other" class="anchored"><td class="def variant constructor"><a href="#type-include_file_kind.Fk_other" class="anchor"></a><code><span>| </span><span><span class="constructor">Fk_other</span> <span class="keyword">of</span> <a href="#type-include_other_file">include_other_file</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-include_value" class="anchored"><a href="#type-include_value" class="anchor"></a><code><span><span class="keyword">type</span> include_value</span><span> = </span><span>{</span></code><table><tr id="type-include_value.file_included" class="anchored"><td class="def record field"><a href="#type-include_value.file_included" class="anchor"></a><code><span>file_included : string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p><code>file_included</code> is the name of the file to synchronize with.</p><span class="comment-delim">*)</span></td></tr><tr id="type-include_value.file_kind" class="anchored"><td class="def record field"><a href="#type-include_value.file_kind" class="anchor"></a><code><span>file_kind : <a href="#type-include_file_kind">include_file_kind</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-raw_value" class="anchored"><a href="#type-raw_value" class="anchor"></a><code><span><span class="keyword">type</span> raw_value</span><span> = </span><span>{</span></code><table><tr id="type-raw_value.header" class="anchored"><td class="def record field"><a href="#type-raw_value.header" class="anchor"></a><code><span>header : <span><a href="Header/index.html#type-t">Header.t</a> option</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-value" class="anchored"><a href="#type-value" class="anchor"></a><code><span><span class="keyword">type</span> value</span><span> = </span></code><table><tr id="type-value.Raw" class="anchored"><td class="def variant constructor"><a href="#type-value.Raw" class="anchor"></a><code><span>| </span><span><span class="constructor">Raw</span> <span class="keyword">of</span> <a href="#type-raw_value">raw_value</a></span></code></td></tr><tr id="type-value.OCaml" class="anchored"><td class="def variant constructor"><a href="#type-value.OCaml" class="anchor"></a><code><span>| </span><span><span class="constructor">OCaml</span> <span class="keyword">of</span> <a href="#type-ocaml_value">ocaml_value</a></span></code></td></tr><tr id="type-value.Cram" class="anchored"><td class="def variant constructor"><a href="#type-value.Cram" class="anchor"></a><code><span>| </span><span><span class="constructor">Cram</span> <span class="keyword">of</span> <a href="#type-cram_value">cram_value</a></span></code></td></tr><tr id="type-value.Toplevel" class="anchored"><td class="def variant constructor"><a href="#type-value.Toplevel" class="anchor"></a><code><span>| </span><span><span class="constructor">Toplevel</span> <span class="keyword">of</span> <a href="#type-toplevel_value">toplevel_value</a></span></code></td></tr><tr id="type-value.Include" class="anchored"><td class="def variant constructor"><a href="#type-value.Include" class="anchor"></a><code><span>| </span><span><span class="constructor">Include</span> <span class="keyword">of</span> <a href="#type-include_value">include_value</a></span></code></td></tr></table></div><div class="spec-doc"><p>The type for block values.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-section" class="anchored"><a href="#type-section" class="anchor"></a><code><span><span class="keyword">type</span> section</span><span> = int * string</span></code></div><div class="spec-doc"><p>The type for sections.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>{</span></code><table><tr id="type-t.loc" class="anchored"><td class="def record field"><a href="#type-t.loc" class="anchor"></a><code><span>loc : <a href="../../../ocaml/Location/index.html#type-t">Location.t</a>;</span></code></td></tr><tr id="type-t.section" class="anchored"><td class="def record field"><a href="#type-t.section" class="anchor"></a><code><span>section : <span><a href="#type-section">section</a> option</span>;</span></code></td></tr><tr id="type-t.dir" class="anchored"><td class="def record field"><a href="#type-t.dir" class="anchor"></a><code><span>dir : <span>string option</span>;</span></code></td></tr><tr id="type-t.labels" class="anchored"><td class="def record field"><a href="#type-t.labels" class="anchor"></a><code><span>labels : <span><a href="../Label/index.html#type-t">Label.t</a> list</span>;</span></code></td></tr><tr id="type-t.legacy_labels" class="anchored"><td class="def record field"><a href="#type-t.legacy_labels" class="anchor"></a><code><span>legacy_labels : bool;</span></code></td></tr><tr id="type-t.contents" class="anchored"><td class="def record field"><a href="#type-t.contents" class="anchor"></a><code><span>contents : <span>string list</span>;</span></code></td></tr><tr id="type-t.skip" class="anchored"><td class="def record field"><a href="#type-t.skip" class="anchor"></a><code><span>skip : bool;</span></code></td></tr><tr id="type-t.version_enabled" class="anchored"><td class="def record field"><a href="#type-t.version_enabled" class="anchor"></a><code><span>version_enabled : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Whether the current OCaml version complies with the block's version.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.set_variables" class="anchored"><td class="def record field"><a href="#type-t.set_variables" class="anchor"></a><code><span>set_variables : <span><span>(string * string)</span> list</span>;</span></code></td></tr><tr id="type-t.unset_variables" class="anchored"><td class="def record field"><a href="#type-t.unset_variables" class="anchor"></a><code><span>unset_variables : <span>string list</span>;</span></code></td></tr><tr id="type-t.value" class="anchored"><td class="def record field"><a href="#type-t.value" class="anchor"></a><code><span>value : <a href="#type-value">value</a>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>The type for supported code blocks.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mk" class="anchored"><a href="#val-mk" class="anchor"></a><code><span><span class="keyword">val</span> mk : <span>loc:<a href="../../../ocaml/Location/index.html#type-t">Location.t</a> <span class="arrow">&#45;&gt;</span></span> <span>section:<span><a href="#type-section">section</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span>labels:<span><a href="../Label/index.html#type-t">Label.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>legacy_labels:bool <span class="arrow">&#45;&gt;</span></span>
<span>header:<span><a href="Header/index.html#type-t">Header.t</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span>contents:<span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span>errors:<span><a href="../Output/index.html#type-t">Output.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-t">t</a>, <span>[ <span>`Msg of string</span> ]</span>)</span> <a href="../../../result/Result/index.html#type-result">Result.result</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_include" class="anchored"><a href="#val-mk_include" class="anchor"></a><code><span><span class="keyword">val</span> mk_include : <span>loc:<a href="../../../ocaml/Location/index.html#type-t">Location.t</a> <span class="arrow">&#45;&gt;</span></span> <span>section:<span><a href="#type-section">section</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span>labels:<span><a href="../Label/index.html#type-t">Label.t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
<span><span>(<a href="#type-t">t</a>, <span>[ <span>`Msg of string</span> ]</span>)</span> <a href="../../../result/Result/index.html#type-result">Result.result</a></span></span></code></div><div class="spec-doc"><p><code>mk_include</code> builds an include block from a comment <code>&lt;!-- $MDX ... --&gt;</code> that is not followed by a code block <code>``` ... ```</code>.</p></div></div><h3 id="printers"><a href="#printers" class="anchor"></a>Printers</h3><div class="odoc-spec"><div class="spec value" id="val-dump" class="anchored"><a href="#val-dump" class="anchor"></a><code><span><span class="keyword">val</span> dump : <span><a href="#type-t">t</a> <a href="../../../fmt/Fmt/index.html#type-t">Fmt.t</a></span></span></code></div><div class="spec-doc"><p><code>dump</code> is the printer for dumping code blocks. Useful for debugging.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_header" class="anchored"><a href="#val-pp_header" class="anchor"></a><code><span><span class="keyword">val</span> pp_header : <span>?syntax:<a href="../Syntax/index.html#type-t">Syntax.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <a href="../../../fmt/Fmt/index.html#type-t">Fmt.t</a></span></span></code></div><div class="spec-doc"><p><code>pp_header</code> pretty-prints full block headers with the labels.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_contents" class="anchored"><a href="#val-pp_contents" class="anchor"></a><code><span><span class="keyword">val</span> pp_contents : <span>?syntax:<a href="../Syntax/index.html#type-t">Syntax.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <a href="../../../fmt/Fmt/index.html#type-t">Fmt.t</a></span></span></code></div><div class="spec-doc"><p><code>pp_contents</code> pretty-prints block contents.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_footer" class="anchored"><a href="#val-pp_footer" class="anchor"></a><code><span><span class="keyword">val</span> pp_footer : <span>?syntax:<a href="../Syntax/index.html#type-t">Syntax.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <a href="../../../fmt/Fmt/index.html#type-t">Fmt.t</a></span></span></code></div><div class="spec-doc"><p><code>pp_footer</code> pretty-prints block footer.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp" class="anchored"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span>?syntax:<a href="../Syntax/index.html#type-t">Syntax.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <a href="../../../fmt/Fmt/index.html#type-t">Fmt.t</a></span></span></code></div><div class="spec-doc"><p><code>pp</code> pretty-prints blocks.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_line_directive" class="anchored"><a href="#val-pp_line_directive" class="anchor"></a><code><span><span class="keyword">val</span> pp_line_directive : <span><span>(string * int)</span> <a href="../../../fmt/Fmt/index.html#type-t">Fmt.t</a></span></span></code></div><div class="spec-doc"><p><code>pp_line_directive</code> pretty-prints a line directive given as a filename and line number.</p></div></div><h3 id="accessors"><a href="#accessors" class="anchor"></a>Accessors</h3><div class="odoc-spec"><div class="spec value" id="val-non_det" class="anchored"><a href="#val-non_det" class="anchor"></a><code><span><span class="keyword">val</span> non_det : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Label/index.html#type-non_det">Label.non_det</a> option</span></span></code></div><div class="spec-doc"><p>Whether a block's command or output is non-deterministic.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-directory" class="anchored"><a href="#val-directory" class="anchor"></a><code><span><span class="keyword">val</span> directory : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p><code>directory t</code> is the directory where <code>t</code> tests should be run.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-file" class="anchored"><a href="#val-file" class="anchor"></a><code><span><span class="keyword">val</span> file : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p><code>file t</code> is the name of the file to synchronize <code>t</code> with.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_variables" class="anchored"><a href="#val-set_variables" class="anchor"></a><code><span><span class="keyword">val</span> set_variables : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(string * string)</span> list</span></span></code></div><div class="spec-doc"><p><code>set_variable t</code> is the list of environment variable to set and their values</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unset_variables" class="anchored"><a href="#val-unset_variables" class="anchor"></a><code><span><span class="keyword">val</span> unset_variables : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p><code>unset_variable t</code> is the list of environment variable to unset</p></div></div><div class="odoc-spec"><div class="spec value" id="val-skip" class="anchored"><a href="#val-skip" class="anchor"></a><code><span><span class="keyword">val</span> skip : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>skip t</code> is true iff <code>skip</code> is in the labels of <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-value" class="anchored"><a href="#val-value" class="anchor"></a><code><span><span class="keyword">val</span> value : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-value">value</a></span></code></div><div class="spec-doc"><p><code>value t</code> is <code>t</code>'s value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-section" class="anchored"><a href="#val-section" class="anchor"></a><code><span><span class="keyword">val</span> section : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-section">section</a> option</span></span></code></div><div class="spec-doc"><p><code>section t</code> is <code>t</code>'s section.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-executable_contents" class="anchored"><a href="#val-executable_contents" class="anchor"></a><code><span><span class="keyword">val</span> executable_contents : <span>syntax:<a href="../Syntax/index.html#type-t">Syntax.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p><code>executable_contents t</code> is either <code>t</code>'s contents if <code>t</code> is a raw or a cram block, or <code>t</code>'s commands if <code>t</code> is a toplevel fragments (e.g. the phrase result is discarded).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_active" class="anchored"><a href="#val-is_active" class="anchor"></a><code><span><span class="keyword">val</span> is_active : <span>?section:string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div></div></body></html>