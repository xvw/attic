<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>As_functor (postface.Postface_examples.List_examples.As_functor)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">postface</a> &#x00BB; <a href="../../index.html">Postface_examples</a> &#x00BB; <a href="../index.html">List_examples</a> &#x00BB; As_functor</nav><header class="odoc-preamble"><h1>Module <code><span>List_examples.As_functor</span></code></h1><p>Examples of using List as a <a href="../../../Postface/List/Functor/index.html">Functor</a></p><p>The map function is quite well known for lists. It simply allows you to apply a function to each element of a list. This means that if we have a list of <code>A</code> and a function that goes from <code>A</code> to <code>B</code>. Then we can have a list of <code>B</code> using <code>map</code>.</p><p>For example, let's say I have a list of integers <code>[1; 2; 3; 4; 5]</code> and I want to convert that list to a list of strings. As I have the function <a href="../../../../ocaml/Stdlib/index.html#val-string_of_int"><code>Stdlib.string_of_int</code></a>, using <code>map</code>, the implementation will be trivial:</p><pre><code># List.Functor.map Stdlib.string_of_int [1;2;3;4;5] ;;
- : string list = [&quot;1&quot;; &quot;2&quot;; &quot;3&quot;; &quot;4&quot;; &quot;5&quot;]</code></pre><p>A functor exposes, in addition, an infix operator for map : <code>&lt;$&gt;</code>, which has the same usage:</p><pre><code># Stdlib.string_of_int &lt;$&gt; [1;2;3;4;5] ;;
- : string list = [&quot;1&quot;; &quot;2&quot;; &quot;3&quot;; &quot;4&quot;; &quot;5&quot;]</code></pre><p>As well as an operator <code>let+</code> for which <code>let+ x = y in f x</code> is equivalent to <code>(fun x -&gt; f x) &lt;$&gt; y</code> which allows to write our function in a style close to the direct style:</p><pre><code># let+ x = [1; 2; 3; 4; 5] in Stdlib.string_of_int x ;;
- : string list = [&quot;1&quot;; &quot;2&quot;; &quot;3&quot;; &quot;4&quot;; &quot;5&quot;]</code></pre><p>Since we can apply a function to each element in our list, we could describe a <code>replace</code> function that would replace each element in the list with a constant element:</p><pre><code># let replace x l = (fun _ -&gt; x) &lt;$&gt; l ;;
val replace : 'a -&gt; 'b list -&gt; 'a list = &lt;fun&gt;</code></pre><pre><code># replace &quot;OCaml&quot; [1; 2; 3];;
- : string list = [&quot;OCaml&quot;; &quot;OCaml&quot;; &quot;OCaml&quot;]</code></pre><p>But fortunately, it is not necessary to describe this function because it already exists (and has two infixed operators):</p><pre><code># List.Functor.replace &quot;OCaml&quot; [1; 2; 3] ;;
- : string list = [&quot;OCaml&quot;; &quot;OCaml&quot;; &quot;OCaml&quot;]</code></pre><pre><code>#  &quot;OCaml&quot; &lt;$  [1; 2; 3] ;;
- : string list = [&quot;OCaml&quot;; &quot;OCaml&quot;; &quot;OCaml&quot;]</code></pre><pre><code># [1; 2; 3] $&gt; &quot;OCaml&quot; ;;
- : string list = [&quot;OCaml&quot;; &quot;OCaml&quot;; &quot;OCaml&quot;]</code></pre><p>The important point to remember is that using List as a Functor never alters the size of the list. If I have a list of 10 items, after mapping (or replacing, which is a special case of mapping), I will have <b>always</b> 10 items.</p></header><div class="odoc-content"></div></body></html>