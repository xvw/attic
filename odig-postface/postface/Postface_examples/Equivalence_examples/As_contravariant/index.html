<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>As_contravariant (postface.Postface_examples.Equivalence_examples.As_contravariant)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">postface</a> &#x00BB; <a href="../../index.html">Postface_examples</a> &#x00BB; <a href="../index.html">Equivalence_examples</a> &#x00BB; As_contravariant</nav><header class="odoc-preamble"><h1>Module <code><span>Equivalence_examples.As_contravariant</span></code></h1><p>Examples of using Equivalence as a <a href="../../../Postface/Equivalence/Contravariant/index.html"><code>Postface.Equivalence.Contravariant</code></a> Functor</p><p>As for the <a href="../../Predicate_examples/As_contravariant/index.html">use of predicates with a contravariant functor</a>, using <code>contramap</code> (or its infixed version <code>&gt;$&lt;</code>) changes the focus of the equivalence application. If we wanted to write a <code>same_size</code> equivalence we could write it this way:</p><pre><code># let same_size l1 l2 = (List.length &gt;$&lt; Stdlib.Int.equal) l1 l2 ;;
val same_size : 'a list -&gt; 'a list -&gt; bool = &lt;equivalence&gt;</code></pre><pre><code># same_size [] [] ;;
- : bool = true
# same_size [1] [2] ;;
- : bool = true
# same_size [1; 2; 3] [1; 2] ;;
- : bool = false</code></pre><p>As with predicates, contramap will first apply a function to the observed subject whose result will be applied to the equivalence passed as an argument.</p><p>Now that we have seen how to change the focus, we can look at how to compose several equivalences together to build more complex equivalences, with, <a href="../As_divisible/index.html">Divisible</a>.</p></header><div class="odoc-content"></div></body></html>