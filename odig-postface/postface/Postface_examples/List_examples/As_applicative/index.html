<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>As_applicative (postface.Postface_examples.List_examples.As_applicative)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">postface</a> &#x00BB; <a href="../../index.html">Postface_examples</a> &#x00BB; <a href="../index.html">List_examples</a> &#x00BB; As_applicative</nav><header class="odoc-preamble"><h1>Module <code><span>List_examples.As_applicative</span></code></h1><p>Examples of using List as an <a href="../../../Postface/List/Applicative/index.html">Applicative</a></p><p>Previously, we saw how to apply a function to each element of our list using the <a href="../As_functor/index.html">Functor</a> functions.</p><p><code>Applicative</code> allows us to construct Cartesian products quite easily. As a reminder, an example of a Cartesian product of two lists would be a list of pairs containing all possible permutations, for example:</p><pre><code># example_of_cartesian_product [1;2;3] [&quot;foo&quot;; &quot;bar&quot;; &quot;baz&quot;] ;;
- : (int * string) list =
[(1, &quot;foo&quot;); (1, &quot;bar&quot;); (1, &quot;baz&quot;); (2, &quot;foo&quot;); (2, &quot;bar&quot;); (2, &quot;baz&quot;);
(3, &quot;foo&quot;); (3, &quot;bar&quot;); (3, &quot;baz&quot;)]</code></pre><p>If we look at the type of the function <code>apply</code> : <code>('a -&gt; 'b) list -&gt; 'a list -&gt; 'b list</code>, we can see that it looks very similar to <code>map</code> but we need to &quot;lift&quot; our function into a list. For that we can use the function <a href="../../../Postface/List/Applicative/index.html#val-pure"><code>Postface.List.Applicative.pure</code></a> (or <a href="../../../Postface/List/index.html#val-singleton"><code>Postface.List.singleton</code></a>).</p><pre><code># let product = List.Applicative.pure (fun x y -&gt; x, y) ;;
val product : ('_weak2 -&gt; '_weak3 -&gt; '_weak2 * '_weak3) list = [&lt;fun&gt;]</code></pre><p>Now we can use <code>apply</code> or rather <code>&lt;*&gt;</code> which is its infix representation:</p><pre><code># let cartesian_product l1 l2 = product &lt;*&gt; l1 &lt;*&gt; l2 ;;
val cartesian_product :
  '_weak4 list -&gt; '_weak5 list -&gt; ('_weak4 * '_weak5) list = &lt;fun&gt;</code></pre><pre><code># cartesian_product [1;2;3] [&quot;foo&quot;; &quot;bar&quot;; &quot;baz&quot;] ;;
- : (int * string) list =
[(1, &quot;foo&quot;); (1, &quot;bar&quot;); (1, &quot;baz&quot;); (2, &quot;foo&quot;); (2, &quot;bar&quot;); (2, &quot;baz&quot;);
(3, &quot;foo&quot;); (3, &quot;bar&quot;); (3, &quot;baz&quot;)]</code></pre><p>In fact, rather than using <code>pure</code>, it is quite common to combine <code>&lt;$&gt;</code> and <code>&lt;*&gt;</code>:</p><pre><code># let cartesian_product l1 l2 = (fun x y -&gt; x, y) &lt;$&gt; l1 &lt;*&gt; l2 ;;
val cartesian_product : 'a list -&gt; 'b list -&gt; ('a * 'b) list = &lt;fun&gt;</code></pre></header><div class="odoc-content"></div></body></html>