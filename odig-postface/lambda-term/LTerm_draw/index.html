<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>LTerm_draw (lambda-term.LTerm_draw)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">lambda-term</a> &#x00BB; LTerm_draw</nav><header class="odoc-preamble"><h1>Module <code><span>LTerm_draw</span></code></h1><p>Drawing</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-elem" class="anchored"><a href="#type-elem" class="anchor"></a><code><span><span class="keyword">type</span> elem</span><span> = </span><span>{</span></code><table><tr id="type-elem.char" class="anchored"><td class="def record field"><a href="#type-elem.char" class="anchor"></a><code><span>char : <a href="../../zed/Zed_char/index.html#type-t">Zed_char.t</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The Zed_char.t character.</p><span class="comment-delim">*)</span></td></tr><tr id="type-elem.bold" class="anchored"><td class="def record field"><a href="#type-elem.bold" class="anchor"></a><code><span>bold : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Whether the character is in bold or not.</p><span class="comment-delim">*)</span></td></tr><tr id="type-elem.underline" class="anchored"><td class="def record field"><a href="#type-elem.underline" class="anchor"></a><code><span>underline : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Whether the character is underlined or not.</p><span class="comment-delim">*)</span></td></tr><tr id="type-elem.blink" class="anchored"><td class="def record field"><a href="#type-elem.blink" class="anchor"></a><code><span>blink : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Whether the character is blinking or not.</p><span class="comment-delim">*)</span></td></tr><tr id="type-elem.reverse" class="anchored"><td class="def record field"><a href="#type-elem.reverse" class="anchor"></a><code><span>reverse : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Whether the character is in reverse video mode or not.</p><span class="comment-delim">*)</span></td></tr><tr id="type-elem.foreground" class="anchored"><td class="def record field"><a href="#type-elem.foreground" class="anchor"></a><code><span>foreground : <a href="../LTerm_style/index.html#type-color">LTerm_style.color</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The foreground color.</p><span class="comment-delim">*)</span></td></tr><tr id="type-elem.background" class="anchored"><td class="def record field"><a href="#type-elem.background" class="anchor"></a><code><span>background : <a href="../LTerm_style/index.html#type-color">LTerm_style.color</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The background color.</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Type of a element in a matrix of styled characters.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-point'" class="anchored"><a href="#type-point'" class="anchor"></a><code><span><span class="keyword">type</span> point'</span><span> = </span></code><table><tr id="type-point'.Elem" class="anchored"><td class="def variant constructor"><a href="#type-point'.Elem" class="anchor"></a><code><span>| </span><span><span class="constructor">Elem</span> <span class="keyword">of</span> <a href="#type-elem">elem</a></span></code></td></tr><tr id="type-point'.WidthHolder" class="anchored"><td class="def variant constructor"><a href="#type-point'.WidthHolder" class="anchor"></a><code><span>| </span><span><span class="constructor">WidthHolder</span> <span class="keyword">of</span> int</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-point" class="anchored"><a href="#type-point" class="anchor"></a><code><span><span class="keyword">type</span> point</span><span> = <span><a href="#type-point'">point'</a> <a href="../../ocaml/Stdlib/index.html#type-ref">ref</a></span></span></code></div><div class="spec-doc"><p>Type of a point in a matrix of styled characters.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-matrix" class="anchored"><a href="#type-matrix" class="anchor"></a><code><span><span class="keyword">type</span> matrix</span><span> = <span><span><a href="#type-point">point</a> array</span> array</span></span></code></div><div class="spec-doc"><p>Type of a matrix of points. The matrix is indexed by lines then columns, i.e. to access the point at line <code>l</code> and column <code>c</code> in matrix <code>m</code> you should use <code>m.(l).(c)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make_matrix" class="anchored"><a href="#val-make_matrix" class="anchor"></a><code><span><span class="keyword">val</span> make_matrix : <span><a href="../LTerm_geom/index.html#type-size">LTerm_geom.size</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-matrix">matrix</a></span></code></div><div class="spec-doc"><p><code>matrix size</code> creates a matrix of the given size containing only blank characters.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_style" class="anchored"><a href="#val-set_style" class="anchor"></a><code><span><span class="keyword">val</span> set_style : <span><a href="#type-point">point</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_style point style</code> sets fields of <code>point</code> according to fields of <code>style</code>. For example:</p><pre><code>set_style point { LTerm_style.none with LTerm_style.bold = Some true }</code></pre><p>will have the following effect:</p><pre><code>point.bold &lt;- true</code></pre></div></div><div class="odoc-spec"><div class="spec type" id="type-context" class="anchored"><a href="#type-context" class="anchor"></a><code><span><span class="keyword">type</span> context</span></code></div><div class="spec-doc"><p>Type of contexts. A context is used for drawing.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-context" class="anchored"><a href="#val-context" class="anchor"></a><code><span><span class="keyword">val</span> context : <span><a href="#type-matrix">matrix</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../LTerm_geom/index.html#type-size">LTerm_geom.size</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-context">context</a></span></code></div><div class="spec-doc"><p><code>context m s</code> creates a context from a matrix <code>m</code> of size <code>s</code>. It raises <code>Invalid_argument</code> if <code>s</code> is not the size of <code>m</code>.</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Out_of_bounds" class="anchored"><a href="#exception-Out_of_bounds" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Out_of_bounds</span></span></code></div><div class="spec-doc"><p>Exception raised when trying to access a point that is outside the bounds of a context.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-size" class="anchored"><a href="#val-size" class="anchor"></a><code><span><span class="keyword">val</span> size : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <a href="../LTerm_geom/index.html#type-size">LTerm_geom.size</a></span></code></div><div class="spec-doc"><p><code>size ctx</code> returns the size of the given context.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sub" class="anchored"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../LTerm_geom/index.html#type-rect">LTerm_geom.rect</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-context">context</a></span></code></div><div class="spec-doc"><p><code>sub ctx rect</code> creates a sub-context from the given context. It raises <a href="#exception-Out_of_bounds"><code>Out_of_bounds</code></a> if the rectangle is not contained in the given context.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-clear" class="anchored"><a href="#val-clear" class="anchor"></a><code><span><span class="keyword">val</span> clear : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>clear ctx</code> clears the given context. It resets all styles to their default and sets characters to spaces.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fill" class="anchored"><a href="#val-fill" class="anchor"></a><code><span><span class="keyword">val</span> fill : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span>?style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../zed/Zed_char/index.html#type-t">Zed_char.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>fill ctx ch</code> fills the given context with <code>ch</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fill_style" class="anchored"><a href="#val-fill_style" class="anchor"></a><code><span><span class="keyword">val</span> fill_style : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>fill_style style</code> fills the given context with <code>style</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-point" class="anchored"><a href="#val-point" class="anchor"></a><code><span><span class="keyword">val</span> point : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-point">point</a></span></code></div><div class="spec-doc"><p><code>point ctx row column</code> returns the point at given position in <code>ctx</code>. It raises <a href="#exception-Out_of_bounds"><code>Out_of_bounds</code></a> if the coordinates are outside the given context.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_char_matrix" class="anchored"><a href="#val-draw_char_matrix" class="anchor"></a><code><span><span class="keyword">val</span> draw_char_matrix : <span><a href="#type-matrix">matrix</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>?style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../zed/Zed_char/index.html#type-t">Zed_char.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>draw_char_matrix matrix row column ?style ch</code> sets the character at given coordinates to <code>ch</code>. It does nothing if the given coordinates are outside the bounds of the context.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_char" class="anchored"><a href="#val-draw_char" class="anchor"></a><code><span><span class="keyword">val</span> draw_char : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>?style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../zed/Zed_char/index.html#type-t">Zed_char.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>draw_char ctx row column ?style ch</code> sets the character at given coordinates to <code>ch</code>. It does nothing if the given coordinates are outside the bounds of the context.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_string" class="anchored"><a href="#val-draw_string" class="anchor"></a><code><span><span class="keyword">val</span> draw_string : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>?style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../zed/Zed_string/index.html#type-t">Zed_string.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>draw_string ctx row column ?style str</code> draws the given string at given coordinates. This does not affect styles. <code>str</code> may contains newlines.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_styled" class="anchored"><a href="#val-draw_styled" class="anchor"></a><code><span><span class="keyword">val</span> draw_styled : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>?style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../LTerm_text/index.html#type-t">LTerm_text.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>draw_styled ctx row column ?style text</code> draws the given styled text at given coordinates.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_string_aligned" class="anchored"><a href="#val-draw_string_aligned" class="anchor"></a><code><span><span class="keyword">val</span> draw_string_aligned : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../LTerm_geom/index.html#type-horz_alignment">LTerm_geom.horz_alignment</a> <span class="arrow">&#45;&gt;</span></span> <span>?style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../zed/Zed_string/index.html#type-t">Zed_string.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Draws a string with the given alignment.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_styled_aligned" class="anchored"><a href="#val-draw_styled_aligned" class="anchor"></a><code><span><span class="keyword">val</span> draw_styled_aligned : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../LTerm_geom/index.html#type-horz_alignment">LTerm_geom.horz_alignment</a> <span class="arrow">&#45;&gt;</span></span> <span>?style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../LTerm_text/index.html#type-t">LTerm_text.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Draws a styled string with the given aglienment.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-connection" class="anchored"><a href="#type-connection" class="anchor"></a><code><span><span class="keyword">type</span> connection</span><span> = </span></code><table><tr id="type-connection.Blank" class="anchored"><td class="def variant constructor"><a href="#type-connection.Blank" class="anchor"></a><code><span>| </span><span><span class="constructor">Blank</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>No connection.</p><span class="comment-delim">*)</span></td></tr><tr id="type-connection.Light" class="anchored"><td class="def variant constructor"><a href="#type-connection.Light" class="anchor"></a><code><span>| </span><span><span class="constructor">Light</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Connection with a light line.</p><span class="comment-delim">*)</span></td></tr><tr id="type-connection.Heavy" class="anchored"><td class="def variant constructor"><a href="#type-connection.Heavy" class="anchor"></a><code><span>| </span><span><span class="constructor">Heavy</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Connection with a heavy line.</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>Type of an connection in a piece that can be connected to other pieces.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-piece" class="anchored"><a href="#type-piece" class="anchor"></a><code><span><span class="keyword">type</span> piece</span><span> = </span><span>{</span></code><table><tr id="type-piece.top" class="anchored"><td class="def record field"><a href="#type-piece.top" class="anchor"></a><code><span>top : <a href="#type-connection">connection</a>;</span></code></td></tr><tr id="type-piece.bottom" class="anchored"><td class="def record field"><a href="#type-piece.bottom" class="anchor"></a><code><span>bottom : <a href="#type-connection">connection</a>;</span></code></td></tr><tr id="type-piece.left" class="anchored"><td class="def record field"><a href="#type-piece.left" class="anchor"></a><code><span>left : <a href="#type-connection">connection</a>;</span></code></td></tr><tr id="type-piece.right" class="anchored"><td class="def record field"><a href="#type-piece.right" class="anchor"></a><code><span>right : <a href="#type-connection">connection</a>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Type of a piece, given by its four connection.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_piece" class="anchored"><a href="#val-draw_piece" class="anchor"></a><code><span><span class="keyword">val</span> draw_piece : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>?style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-piece">piece</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Draws a piece. It may modify pieces around it.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_hline" class="anchored"><a href="#val-draw_hline" class="anchor"></a><code><span><span class="keyword">val</span> draw_hline : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>?style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-connection">connection</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>draw_hline ctx row column length connection</code> draws an horizontal line.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_vline" class="anchored"><a href="#val-draw_vline" class="anchor"></a><code><span><span class="keyword">val</span> draw_vline : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>?style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-connection">connection</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>draw_hline ctx row column length connection</code> draws a vertical line.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_frame" class="anchored"><a href="#val-draw_frame" class="anchor"></a><code><span><span class="keyword">val</span> draw_frame : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../LTerm_geom/index.html#type-rect">LTerm_geom.rect</a> <span class="arrow">&#45;&gt;</span></span> <span>?style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-connection">connection</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Draws a rectangle.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_frame_labelled" class="anchored"><a href="#val-draw_frame_labelled" class="anchor"></a><code><span><span class="keyword">val</span> draw_frame_labelled : <span><a href="#type-context">context</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../LTerm_geom/index.html#type-rect">LTerm_geom.rect</a> <span class="arrow">&#45;&gt;</span></span> <span>?style:<a href="../LTerm_style/index.html#type-t">LTerm_style.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?alignment:<a href="../LTerm_geom/index.html#type-horz_alignment">LTerm_geom.horz_alignment</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../zed/Zed_string/index.html#type-t">Zed_string.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-connection">connection</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Draws a rectangle with a label on the top row.</p></div></div></div></body></html>